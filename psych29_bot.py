# -*- coding: utf-8 -*-
"""
Created on Thu Oct 30 01:35:33 2025

@author: User
"""

import os
import sys
import requests
import time

TOKEN = os.environ.get('BOT_TOKEN')
if TOKEN is None:
    print("ERROR: ูุทูุง ูุชุบุฑ ูุญุท BOT_TOKEN ุฑุง ุชูุธู ฺฉูุฏ.")
    sys.exit(1)

URL = f"https://api.telegram.org/bot{TOKEN}/"

print("๐ฏ ุฑุงูโุงูุฏุงุฒ ุจุงุช ุจุง ุณูุงูุงุช ุงุณุชุงูุฏุงุฑุฏ...")

# ูพุงฺฉุณุงุฒ
try:
    requests.get(URL + "getUpdates?offset=1000000000")
except:
    pass

users = {}

def send_message(chat_id, text, buttons=None):
    try:
        data = {"chat_id": chat_id, "text": text, "parse_mode": "HTML"}
        if buttons:
            data["reply_markup"] = {"keyboard": buttons, "resize_keyboard": True}
        requests.post(URL + "sendMessage", json=data)
        print(f"๐ค {text[:40]}...")
    except:
        pass

def create_main_menu():
    return [
        [{"text": "๐ ุชุณุช ุงูุณุฑุฏฺฏ"}, {"text": "๐ฅ ุชุณุช ุงุถุทุฑุงุจ"}],
        [{"text": "๐ ุชุณุช ูุณูุงุณ"}, {"text": "๐ ูพุฑููุงู ูู"}],
        [{"text": "๐ ุฎุฏูุงุช ูฺู"}, {"text": "๐ ุชุฌุฑุจุงุช ูููู"}],  # ๐ด ุงู ุฎุท ุฑู ุชุบุฑ ุฏุงุฏู
        [{"text": "โน๏ธ ุฑุงูููุง"}, {"text": "๐ ุชูุงุณ ุจุง ูุง"}]
    ]

def create_answer_buttons():
    return [
        [{"text": "๐ด ุฒุงุฏ"}, {"text": "๐ก ูุชูุณุท"}, {"text": "๐ข ฺฉู"}],
        [{"text": "๐ ุจุงุฒฺฏุดุช ุจู ููู"}]
    ]

def show_online_consultation(chat_id):
    text = """<b>๐ฌ ูุดุงูุฑู ุขููุงู</b>

โ ุงู ุณุฑูุณ ุจู ุฒูุฏ ูุนุงู ูโุดูุฏ

๐ <b>ุฎุฏูุงุช ุขูุฏู:</b>
โข ฺุช ุฒูุฏู ุจุง ุฑูุงูุดูุงุณ
โข ุฌูุณุงุช ูุฏู
โข ูพุดุชุจุงู ุชููู

๐ <b>ูุนูุงู ูโุชูุงูุฏ:</b>
ุจู ุดูุงุฑู 09211838867 ุฏุฑ ูุงุชุณ ุขูพ ูพุงู ุฏูุฏ"""
    
    send_message(chat_id, text, create_main_menu())

def show_pricing(chat_id):
    text = """<b>๐ฐ ููุชโฺฏุฐุงุฑ ุฎุฏูุงุช</b>

๐ฅ <b>ูพูู ูพุงู:</b> ตฐูฌฐฐฐ ุชููุงู
โข ฒ ุฌูุณู ฺุช ุฏุฑ ูุงู
โข ุจุฑูุงูู ุฏุฑูุงู ูพุงู

๐ฅ <b>ูพูู ุงุณุชุงูุฏุงุฑุฏ:</b> ฑฐฐูฌฐฐฐ ุชููุงู  
โข ด ุฌูุณู ฺุช ุฏุฑ ูุงู
โข ุจุฑูุงูู ุฏุฑูุงู ูพุดุฑูุชู
โข ูพุดุชุจุงู ุชููู

๐ฅ <b>ูพูู ุญุฑููโุง:</b> ฒฐฐูฌฐฐฐ ุชููุงู
โข ุฌูุณุงุช ูุงูุญุฏูุฏ
โข ุจุฑูุงูู ุดุฎุตโุณุงุฒ ุดุฏู
โข ูพุดุชุจุงู ฒด ุณุงุนุชู

๐ณ <b>ุฑูุด ูพุฑุฏุงุฎุช:</b>
ฺฉุงุฑุช ุจู ฺฉุงุฑุช - ูุงุฑุฒ ุจู ุดูุงุฑู ฺฉุงุฑุช"""
    
    buttons = [
        [{"text": "๐ ุฎุฑุฏ ูพูู"}],
        [{"text": "๐ ุจุงุฒฺฏุดุช ุจู ููู"}]
    ]
    send_message(chat_id, text, buttons)

def show_welcome(chat_id, name):
    text = f"""๐ <b>ุณูุงู {name} ุนุฒุฒ!</b>

๐ง <b>ุจู ุฑุจุงุช ุฑูุงูุดูุงุณ ููุฑุงู ุฎูุด ุขูุฏุฏ</b>

๐ฏ <b>ุฎุฏูุงุช ุฑุงฺฏุงู ูุง:</b>
โข ุชุณุช ุงูุณุฑุฏฺฏ (PHQ-9) - ุงุณุชุงูุฏุงุฑุฏ ุฌูุงู
โข ุชุณุช ุงุถุทุฑุงุจ (GAD-7) - ุงุฑุฒุงุจ ุฏูู  
โข ุชุณุช ูุณูุงุณ (Y-BOCS) - ุชุฎุตุต

โฑ <b>ุฒูุงู ูุฑ ุชุณุช: ููุท ณ-ต ุฏููู</b>
๐ <b>ูุชุงุฌ: ุชุญูู ููุฑ ู ูุญุฑูุงูู</b>

๐ <b>ูุทูุงู ฺฉ ุงุฒ ฺฏุฒููโูุง ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ:</b>"""
    
    send_message(chat_id, text, create_main_menu())

def show_guide(chat_id):
    text = """<b>โน๏ธ ุฑุงูููุง ุงุณุชูุงุฏู ุงุฒ ุจุงุช</b>

๐ฏ <b>ุฎุฏูุงุช ุฑุงฺฏุงู:</b>
โข ุชุณุช ุงุถุทุฑุงุจ (GAD-7)
โข ุชุณุช ุงูุณุฑุฏฺฏ (PHQ-9) 
โข ุชุณุช ูุณูุงุณ (Y-BOCS)

๐ <b>ุฎุฏูุงุช ูพุฑููู:</b>
โข ุจุฑูุงูู ุฏุฑูุงู ุดุฎุต
โข ูุดุงูุฑู ุขููุงู
โข ูพุดุชุจุงู ูฺู

๐ฑ <b>ูุญูู ุงุณุชูุงุฏู:</b>
ฑ. ุงุฒ ููู ุงุตู ุฎุฏูุงุช ููุฑุฏ ูุธุฑ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
ฒ. ุจู ุณูุงูุงุช ุจู ุฏูุช ูพุงุณุฎ ุฏูุฏ
ณ. ูุชุงุฌ ู ุฑุงูููุง ุฏุฑุงูุช ฺฉูุฏ

โ๏ธ <b>ุชูุฌู:</b>
ุงู ุจุงุช ุฌุงฺฏุฒู ุชุดุฎุต ูพุฒุดฺฉ ูุณุช"""
    
    send_message(chat_id, text, create_main_menu())

def show_contact(chat_id):
    text = """<b>๐จโโ๏ธ ุชูุงุณ ุจุง ุฑูุงูุดูุงุณ ูุชุฎุตุต</b>

๐ฅ <b>   ุฑูุงู ุดูุงุณ ุจุงูู </b>

๐ <b>ุดูุงุฑู ุชูุงุณ:</b>
0912-109-4069
09422051827

๐ <b>ุณุงุนุงุช ฺฉุงุฑ:</b>
ุดูุจู ุชุง ฺูุงุฑุดูุจู: ธ ุตุจุญ ุชุง ธ ุดุจ

๐ <b>ุขุฏุฑุณ:</b>

๐ <b>ุดุจฺฉูโูุง ุงุฌุชูุงุน:</b>
https://ravandarman.com/doctor/90685-mohammad-mahdizadeh
ุชูฺฏุฑุงู: https://t.me/mohammadmahdizadeh"""
    send_message(chat_id, text, create_main_menu())  
    
def show_user_profile(chat_id):
    text = """<b>๐ ูพุฑููุงู ุดูุง</b>

๐ <b>ูุถุนุช:</b> ฺฉุงุฑุจุฑ ุฑุงฺฏุงู
๐ฏ <b>ุงูฺฉุงูุงุช ูุนู:</b>
โข โ ุชุณุชโูุง ุบุฑุจุงูฺฏุฑ
โข โ ุจุฑูุงูู ุฏุฑูุงู ุดุฎุต
โข โ ูุดุงูุฑู ุขููุงู

๐ <b>ุจุฑุง ุฏุณุชุฑุณ ุจู ุฎุฏูุงุช ฺฉุงูู:</b>
ุฑู '๐ ุฎุฏูุงุช ูพุฑููู' ฺฉูฺฉ ฺฉูุฏ"""
    
    send_message(chat_id, text, create_main_menu())

def show_premium_services(chat_id):
    text = """<b>๐ ุฎุฏูุงุช ูฺู ุฑูุงูุดูุงุณ</b>

๐ฏ <b>ุณุณุชู ุฌุฏุฏ ูุง:</b>
โข ุจุฑูุงููโูุง ุดุฎุตโุณุงุฒ ุดุฏู
โข ูพฺฏุฑ ุขููุงู ูพุดุฑูุช  
โข ุจุงุฒุฎูุฑุฏ ูุณุชูู ุงุฒ ุฑูุงูุดูุงุณ
โข ฺฏุฒุงุฑุดโูุง ููุชฺฏ

๐ <b>ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุงูุชุฎุงุจ ฺฉูุฏ:</b>"""

    buttons = [
        [{"text": "๐ ูุดุงูุฏู ูพููโูุง"}],
        [{"text": "๐ ููููู ฺฏุฒุงุฑุดโูุง"}],
        [{"text": "๐ฌ ูุธุฑุงุช ฺฉุงุฑุจุฑุงู"}],
        [{"text": "๐ ุจุงุฒฺฏุดุช ุจู ููู ุงุตู"}]  # ุฏฺฉูู ุจุงุฒฺฏุดุช ูุงุถุญ
    ]
    send_message(chat_id, text, buttons)
def show_plans_with_feedback(chat_id):
    text = """<b>๐ ูพููโูุง ุงุดุชุฑุงฺฉ</b>

<b>๐ฅ ูพูู ูพุงู (ตน,ฐฐฐ ุชููุงู)</b>
โ <i>ุงูุชุงุฒ: ด.ต/ต ุงุฒ ฑฒณ ฺฉุงุฑุจุฑ</i>
โข ุจุฑูุงูู ุฏุฑูุงู ฒ ููุชูโุง
โข ฒ ุฌูุณู ฺุช ุจุง ุฑูุงูุดูุงุณ
โข ุงุฑุฒุงุจ ูพุดุฑูุช + ูพุดุชุจุงู ูุชู

<b>๐ฅ ูพูู ุงุณุชุงูุฏุงุฑุฏ (ฑฑน,ฐฐฐ ุชููุงู)</b>  
โ <i>ุงูุชุงุฒ: ด.ท/ต ุงุฒ ธน ฺฉุงุฑุจุฑ</i>
โข ุจุฑูุงูู ุฏุฑูุงู ฑ ูุงูู
โข ด ุฌูุณู ฺุช ุจุง ุฑูุงูุดูุงุณ
โข ุงุฑุฒุงุจ ููุชฺฏ + ูพุดุชุจุงู ุชููู

<b>๐ฅ ูพูู ุญุฑููโุง (ฒดน,ฐฐฐ ุชููุงู)</b>
โ <i>ุงูุชุงุฒ: ด.น/ต ุงุฒ ดต ฺฉุงุฑุจุฑ</i>
โข ุจุฑูุงูู ุฏุฑูุงู ณ ูุงูู
โข ุฌูุณุงุช ูุงูุญุฏูุฏ ฺุช
โข ุงุฑุฒุงุจ ููุชฺฏ ูพุดุฑูุชู"""

    buttons = [
        [{"text": "๐ฅ ุฎุฑุฏ ูพูู ูพุงู"}, {"text": "๐ฅ ุฎุฑุฏ ูพูู ุงุณุชุงูุฏุงุฑุฏ"}],
        [{"text": "๐ฅ ุฎุฑุฏ ูพูู ุญุฑููโุง"}, {"text": "๐ ูุดุงูุฑู ุฑุงฺฏุงู"}],
        [{"text": "๐ ุจุงุฒฺฏุดุช"}]  # ๐ด ุฏฺฉูู ุจุงุฒฺฏุดุช ุงุถุงูู ุดุฏ
    ]
    send_message(chat_id, text, buttons)
def show_sample_reports(chat_id):
    text = """<b>๐ ููููู ฺฏุฒุงุฑุดโูุง ุขููุงู</b>

๐ฏ <b>ฺู ฺฏุฒุงุฑุดโูุง ุฏุฑุงูุช ูโฺฉูุฏ:</b>

๐ <b>ฺฏุฒุงุฑุด ูพุดุฑูุช ููุชฺฏ:</b>
โข ูููุฏุงุฑ ุจูุจูุฏ ุฎูู ู ุฎู
โข ุฏุฑุตุฏ ูพุดุฑูุช ุงูุฏุงู  
โข ูฺฉุงุช ูุงุจู ุจูุจูุฏ
โข ุชูุฑูุงุช ูพุดููุงุฏ

๐ <b>ฺฏุฒุงุฑุด ุชุญูู ุชุณุชโูุง:</b>
โข ุดูุงุณุง ุงูฺฏููุง ูฺฉุฑ
โข ููุงุท ููุช ู ุถุนู
โข ุฑุงูฺฉุงุฑูุง ุดุฎุตโุณุงุฒ ุดุฏู"""

    buttons = [
        [{"text": "๐ ููููู ุงูุณุฑุฏฺฏ"}, {"text": "๐ฅ ููููู ุงุถุทุฑุงุจ"}],
        [{"text": "๐ ููููู ูุณูุงุณ"}, {"text": "๐ ุฎุฑุฏ ูพูู"}],
        [{"text": "๐ ุจุงุฒฺฏุดุช"}]  # ๐ด ุฏฺฉูู ุจุงุฒฺฏุดุช
    ]
    send_message(chat_id, text, buttons)   
def show_sample_reports(chat_id):
    text = """<b>๐ ููููู ฺฏุฒุงุฑุดโูุง ุขููุงู</b>

๐ฏ <b>ฺู ฺฏุฒุงุฑุดโูุง ุฏุฑุงูุช ูโฺฉูุฏ:</b>

๐ <b>ฺฏุฒุงุฑุด ูพุดุฑูุช ููุชฺฏ:</b>
โข ูููุฏุงุฑ ุจูุจูุฏ ุฎูู ู ุฎู
โข ุฏุฑุตุฏ ูพุดุฑูุช ุงูุฏุงู  
โข ูฺฉุงุช ูุงุจู ุจูุจูุฏ
โข ุชูุฑูุงุช ูพุดููุงุฏ

๐ <b>ฺฏุฒุงุฑุด ุชุญูู ุชุณุชโูุง:</b>
โข ุดูุงุณุง ุงูฺฏููุง ูฺฉุฑ
โข ููุงุท ููุช ู ุถุนู
โข ุฑุงูฺฉุงุฑูุง ุดุฎุตโุณุงุฒ ุดุฏู

๐ <b>ูุดุงูุฏู ูููููโูุง:</b>"""

    buttons = [
        [{"text": "๐ท ูุดุงูุฏู ุงุณฺฉุฑูโุดุงุช ฺฏุฒุงุฑุด"}],
        [{"text": "๐ฅ ูุฏู ุชุญูู ููููู"}],
        [{"text": "๐ ุฎุฑุฏ ูพูู ฺฏุฒุงุฑุดโุฏู"}, {"text": "๐ ุจุงุฒฺฏุดุช"}]
    ]
    send_message(chat_id, text, buttons) 
def show_depression_sample(chat_id):
    text = """<b>๐ ููููู ฺฏุฒุงุฑุด ุงูุณุฑุฏฺฏ (PHQ-9)</b>

๐ค <b>ฺฉุงุฑุจุฑ: ูุงุทูู - ุณู: ฒธ</b>
๐ <b>ุฏูุฑู: ด ููุชู - ูพูู ุงุณุชุงูุฏุงุฑุฏ</b>

๐ <b>ูุชุงุฌ:</b>
โข ููุฑู ุงููู: ฑธ (ุงูุณุฑุฏฺฏ ุดุฏุฏ)
โข ููุฑู ูุนู: ท (ุงูุณุฑุฏฺฏ ุฎูู)
โข ุจูุจูุฏ ฺฉู: ถฑูช โ

๐ฏ <b>ุชุญูู ุชุฎุตุต:</b>
โ ุจูุจูุฏ ฺุดูฺฏุฑ ุฏุฑ ุงูุฑฺ ุฑูุฒุงูู
โ ฺฉุงูุด ุงูฺฉุงุฑ ููู ุงุฒ ธฐูช ุจู ณฐูช
โ ุงูุฒุงุด ูุนุงูุชโูุง ูุฐุชโุจุฎุด
๐ถ ูุงุฒ ุจู ุชูุฑฺฉุฒ ุจุฑ ุจูุจูุฏ ุฎูุงุจ"""

    buttons = [
        [{"text": "๐ ุฎุฑุฏ ูพูู ูุดุงุจู"}, {"text": "๐ ูุดุงูุฑู ุฑุงฺฏุงู"}],
        [{"text": "๐ ุจุงุฒฺฏุดุช ุจู ูููููโูุง"}]
    ]
    send_message(chat_id, text, buttons)

def show_anxiety_sample(chat_id):
    text = """<b>๐ฅ ููููู ฺฏุฒุงุฑุด ุงุถุทุฑุงุจ (GAD-7)</b>

๐ค <b>ฺฉุงุฑุจุฑ: ุนู - ุณู: ณฒ</b>
๐ <b>ุฏูุฑู: ณ ููุชู - ูพูู ุญุฑููโุง</b>

๐ <b>ูุชุงุฌ:</b>
โข ููุฑู ุงููู: ฑน (ุงุถุทุฑุงุจ ุดุฏุฏ)
โข ููุฑู ูุนู: ถ (ุงุถุทุฑุงุจ ุฎูู)
โข ุจูุจูุฏ ฺฉู: ถธูช โ

๐ฏ <b>ุชุญูู ุชุฎุตุต:</b>
โ ฺฉุงูุด ุญููุงุช ูพุงูฺฉ ุงุฒ ณ ุจู ฐ ุฏุฑ ููุชู
โ ุจูุจูุฏ ุชูุฑฺฉุฒ ู ุขุฑุงูุด
โ ุงูุฒุงุด ุงุนุชูุงุฏ ุจู ููุณ
๐ถ ุงุฏุงูู ุชูุฑูุงุช ุชููุณ"""

    buttons = [
        [{"text": "๐ ุฎุฑุฏ ูพูู ูุดุงุจู"}, {"text": "๐ ูุดุงูุฑู ุฑุงฺฏุงู"}],
        [{"text": "๐ ุจุงุฒฺฏุดุช ุจู ูููููโูุง"}]
    ]
    send_message(chat_id, text, buttons)

def show_ocd_sample(chat_id):
    text = """<b>๐ ููููู ฺฏุฒุงุฑุด ูุณูุงุณ (Y-BOCS)</b>

๐ค <b>ฺฉุงุฑุจุฑ: ุณุงุฑุง - ุณู: ฒต</b>
๐ <b>ุฏูุฑู: ถ ููุชู - ูพูู ุญุฑููโุง</b>

๐ <b>ูุชุงุฌ:</b>
โข ููุฑู ุงููู: ฒธ (ูุณูุงุณ ุดุฏุฏ)
โข ููุฑู ูุนู: ฑฑ (ูุณูุงุณ ุฎูู)
โข ุจูุจูุฏ ฺฉู: ถฑูช โ

๐ฏ <b>ุชุญูู ุชุฎุตุต:</b>
โ ฺฉุงูุด ุฒูุงู ุงูฺฉุงุฑ ูุณูุงุณ ุงุฒ ด ุจู ฑ ุณุงุนุช
โ ุจูุจูุฏ ุนููฺฉุฑุฏ ุฑูุฒุงูู
โ ุงูุฒุงุด ฺฉูุชุฑู ุจุฑ ุงูฺฉุงุฑ
๐ถ ุงุฏุงูู ERP ุฏุฑูุงู"""

    buttons = [
        [{"text": "๐ ุฎุฑุฏ ูพูู ูุดุงุจู"}, {"text": "๐ ูุดุงูุฑู ุฑุงฺฏุงู"}],
        [{"text": "๐ ุจุงุฒฺฏุดุช ุจู ูููููโูุง"}]
    ]
    send_message(chat_id, text, buttons)    
def show_success_stories(chat_id):
    text = """<b>๐ ุชุฌุฑุจุงุช ูููู ฺฉุงุฑุจุฑุงู</b>

๐ฌ <b>ูุธุฑ ฺฉุงุฑุจุฑุงู ุฏุฑุจุงุฑู ุฎุฏูุงุช ูุง:</b>

<b>ยซูุญูุฏ ุงุฒ ุชูุฑุงู:</b>
ุจุนุฏ ุงุฒ ณ ูุงู ุงุณุชูุงุฏู ุงุฒ ูพูู ุญุฑููโุงุ ุงุถุทุฑุงุจู ธฐูช ฺฉุงูุด ูพุฏุง ฺฉุฑุฏ!ยป

<b>ยซูุงุทูู ุงุฒ ุงุตููุงู:</b>  
ุจุฑูุงูู ุดุฎุตโุณุงุฒ ุดุฏู ูุงูุนุงู ุชุบุฑ ุงุฌุงุฏ ฺฉุฑุฏ. ูุฏุฑุฏุงู ุฒุญูุงุชุชูู ูุณุชู.ยป

<b>ยซุนู ุงุฒ ูุดูุฏ:</b>
ูพุดุชุจุงู ฒด ุณุงุนุชู ุนุงู ุจูุฏ. ููุดู ุงุญุณุงุณ ฺฉุฑุฏู ุชููุง ูุณุชู.ยป

๐ <b>ุขูุงุฑ ูุง:</b>
โข นฒูช ุฑุถุงุช ฺฉุงุฑุจุฑุงู
โข ธทูช ุจูุจูุฏ ูุงุจู ุงูุฏุงุฒูโฺฏุฑ
โข ฑตฐฐ+ ฺฉุงุฑุจุฑ ูุนุงู"""
    
    buttons = [
        [{"text": "๐ ูุดุงูุฏู ูพููโูุง"}],
        [{"text": "๐ ุจุงุฒฺฏุดุช ุจู ููู"}]
    ]
    send_message(chat_id, text, buttons)
def show_payment_plan(chat_id, plan_type):
    plans = {
        "basic": {
            "name": "ูพูู ูพุงู",
            "price": "ตน,ฐฐฐ ุชููุงู",
            "amount": 590000,  # ูุจูุบ ุจู ุฑุงู
            "features": [
                "ุจุฑูุงูู ุฏุฑูุงู ฒ ููุชูโุง",
                "ฒ ุฌูุณู ฺุช ุจุง ุฑูุงูุดูุงุณ", 
                "ุงุฑุฒุงุจ ูพุดุฑูุช",
                "ูพุดุชุจุงู ูุชู"
            ]
        },
        "standard": {
            "name": "ูพูู ุงุณุชุงูุฏุงุฑุฏ", 
            "price": "ฑฑน,ฐฐฐ ุชููุงู",
            "amount": 1190000,
            "features": [
                "ุจุฑูุงูู ุฏุฑูุงู ฑ ูุงูู",
                "ด ุฌูุณู ฺุช ุจุง ุฑูุงูุดูุงุณ",
                "ุงุฑุฒุงุจ ููุชฺฏ",
                "ูพุดุชุจุงู ุชููู",
                "ฺฉุชุงุจุฎุงูู ุชูุฑูุงุช ุงุฎุชุตุงุต"
            ]
        },
        "premium": {
            "name": "ูพูู ุญุฑููโุง",
            "price": "ฒดน,ฐฐฐ ุชููุงู", 
            "amount": 2490000,
            "features": [
                "ุจุฑูุงูู ุฏุฑูุงู ณ ูุงูู",
                "ุฌูุณุงุช ูุงูุญุฏูุฏ ฺุช",
                "ุงุฑุฒุงุจ ููุชฺฏ ูพุดุฑูุชู",
                "ูพุดุชุจุงู ฒด ุณุงุนุชู",
                "ูุดุงูุฑู ุฎุงููุงุฏฺฏ ุฑุงฺฏุงู"
            ]
        }
    }
    
    plan = plans[plan_type]
    
    text = f"""<b>๐ฏ {plan['name']}</b>

๐ฐ <b>ููุช: {plan['price']}</b>

โ <b>ูุฒุงุง:</b>"""
    
    for feature in plan['features']:
        text += f"\nโข {feature}"
    
    text += f"""

๐ณ <b>ุฑูุด ูพุฑุฏุงุฎุช:</b>
โข ูพุฑุฏุงุฎุช ุขููุงู (ูุนุงู ุณุงุฒ ููุฑ)
โข ฺฉุงุฑุช ุจู ฺฉุงุฑุช (ูุนุงู ุณุงุฒ ูพุณ ุงุฒ ูุงุฑุฒ)

โก <b>ูพุดุชุจุงู:</b>
@RavanshenaseeHamrah"""
    
    buttons = [
        [{"text": "๐ณ ูพุฑุฏุงุฎุช ุขููุงู"}, {"text": "๐ฆ ูพุฑุฏุงุฎุช ฺฉุงุฑุช ุจู ฺฉุงุฑุช"}],
        [{"text": "๐ ูุดุงูุฏู ุณุงุฑ ูพููโูุง"}, {"text": "๐ ุจุงุฒฺฏุดุช"}]
    ]
    send_message(chat_id, text, buttons)

def show_success_stories(chat_id):
    text = """<b>๐ ุชุฌุฑุจุงุช ูููู ฺฉุงุฑุจุฑุงู</b>

๐ฌ <b>ูุธุฑ ฺฉุงุฑุจุฑุงู ุฏุฑุจุงุฑู ุฎุฏูุงุช ูุง:</b>

<b>ยซูุญูุฏ ุงุฒ ุชูุฑุงู:</b>
ุจุนุฏ ุงุฒ ณ ูุงู ุงุณุชูุงุฏู ุงุฒ ูพูู ุญุฑููโุงุ ุงุถุทุฑุงุจู ธฐูช ฺฉุงูุด ูพุฏุง ฺฉุฑุฏ!ยป

<b>ยซูุงุทูู ุงุฒ ุงุตููุงู:</b>  
ุจุฑูุงูู ุดุฎุตโุณุงุฒ ุดุฏู ูุงูุนุงู ุชุบุฑ ุงุฌุงุฏ ฺฉุฑุฏ. ูุฏุฑุฏุงู ุฒุญูุงุชุชูู ูุณุชู.ยป

<b>ยซุนู ุงุฒ ูุดูุฏ:</b>
ูพุดุชุจุงู ฒด ุณุงุนุชู ุนุงู ุจูุฏ. ููุดู ุงุญุณุงุณ ฺฉุฑุฏู ุชููุง ูุณุชู.ยป

๐ <b>ุขูุงุฑ ูุง:</b>
โข นฒูช ุฑุถุงุช ฺฉุงุฑุจุฑุงู
โข ธทูช ุจูุจูุฏ ูุงุจู ุงูุฏุงุฒูโฺฏุฑ
โข ฑตฐฐ+ ฺฉุงุฑุจุฑ ูุนุงู"""
    
    buttons = [
        [{"text": "๐ ูุดุงูุฏู ูพููโูุง"}],
        [{"text": "๐ ุจุงุฒฺฏุดุช ุจู ููู"}]
    ]
    send_message(chat_id, text, buttons)
def show_card_payment(chat_id):
    text = """<b>๐ฆ ูพุฑุฏุงุฎุช ฺฉุงุฑุช ุจู ฺฉุงุฑุช</b>

๐ณ <b>ุดูุงุฑู ฺฉุงุฑุช:</b>
<code>6104-3333-2222-1111</code>
ุจู ูุงู: ุฑูุงูุดูุงุณ ููุฑุงู

๐ <b>ูุฑุงุญู:</b>
ฑ. ูุงุฑุฒ ูุจูุบ ุจู ฺฉุงุฑุช ุจุงูุง
ฒ. ุนฺฉุณ ูุด ูุงุฑุฒ ุฑู ุจูุฑุณุชุฏ  
ณ. ุณุฑูุณ ุดูุง ูุนุงู ูโุดูุฏ

โฑ <b>ุฒูุงู ูุนุงูโุณุงุฒ:</b>
ุญุฏุงฺฉุซุฑ ฒ ุณุงุนุช ูพุณ ุงุฒ ูุงุฑุฒ

๐ <b>ูพุดุชุจุงู:</b>
@RavanshenaseeHamrah"""
    
    buttons = [
        [{"text": "๐ธ ุงุฑุณุงู ูุด ูุงุฑุฒ"}],
        [{"text": "๐ ุจุงุฒฺฏุดุช"}]
    ]
    send_message(chat_id, text, buttons)
def setup_payment_gateway(chat_id, plan_type, amount, description):
    """
    ุชูุธู ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช ูพโููุช
    amount: ูุจูุบ ุจู ุฑุงู (ูุซูุงู 590000 ุจุฑุง ตน,ฐฐฐ ุชููุงู)
    """
    try:
        # ุงุทูุงุนุงุช ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช ูพโููุช
        api_key = "your-payir-api-key"  # ๐ด ฺฉูุฏ API ูพโููุช ุฎูุฏุชูู ุฑู ุงูุฌุง ูุฑุงุฑ ุจุฏุฏ
        callback_url = "https://yourdomain.com/verify"  # ๐ด ุขุฏุฑุณ callback ุฎูุฏุชูู
        
        # ุงุฌุงุฏ ุชุฑุงฺฉูุด ุฏุฑ ูพโููุช
        data = {
            "api": api_key,
            "amount": amount,
            "redirect": callback_url,
            "description": description
        }
        
        response = requests.post("https://pay.ir/pg/send", data=data)
        result = response.json()
        
        if result['status'] == 1:
            # ุชุฑุงฺฉูุด ุงุฌุงุฏ ุดุฏ - ุงุฑุณุงู ููฺฉ ูพุฑุฏุงุฎุช ุจู ฺฉุงุฑุจุฑ
            payment_url = f"https://pay.ir/pg/{result['token']}"
            
            text = f"""<b>๐ ููฺฉ ูพุฑุฏุงุฎุช</b>

๐ฐ ูุจูุบ: {amount // 10} ุชููุงู
๐ ุดุฑุญ: {description}

๐ณ ุจุฑุง ูพุฑุฏุงุฎุช ุฑู ููฺฉ ุฒุฑ ฺฉูฺฉ ฺฉูุฏ:
{payment_url}

โ๏ธ ุจุนุฏ ุงุฒ ูพุฑุฏุงุฎุชุ ุฎูุฏฺฉุงุฑ ุจู ุฑุจุงุช ุจุฑฺฏุดุชู ู ุณุฑูุณ ุดูุง ูุนุงู ูโุดูุฏ."""
            
            buttons = [
                [{"text": "๐ ูพุฑุฏุงุฎุช ุขููุงู", "url": payment_url}],
                [{"text": "๐ ุจุงุฒฺฏุดุช ุจู ููู"}]
            ]
            send_message(chat_id, text, buttons)
        else:
            send_message(chat_id, "โ ุฎุทุง ุฏุฑ ุงุชุตุงู ุจู ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช. ูุทูุงู ุฏูุจุงุฑู ุชูุงุด ฺฉูุฏ.", create_main_menu())
            
    except Exception as e:
        print(f"ุฎุทุง ุฏุฑ ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช: {e}")
        send_message(chat_id, "โ ุฎุทุง ุฏุฑ ูพุฑุฏุงุฎุช. ูุทูุงู ุจุง ูพุดุชุจุงู ุชูุงุณ ุจฺฏุฑุฏ.", create_main_menu())

def start_test(chat_id, test_type):
    if chat_id in users:
        return
    
    print(f"๐ข ุดุฑูุน ุชุณุช {test_type}")
    
    # ูพุงู ุดุฑูุน ุชุณุช ุฑู ุญุฑููโุงโุชุฑ ฺฉูู
    start_msgs = {
        "ุงูุณุฑุฏฺฏ": """๐ <b>ุชุณุช ุงูุณุฑุฏฺฏ (PHQ-9) ุดุฑูุน ุดุฏ</b>

ุงู ุชุณุช น ุณูุงู ุฏุงุฑุฏ ู ณ-ด ุฏููู ุฒูุงู ูโุจุฑุฏ.
ูพุงุณุฎโูุง ุดูุง ฺฉุงููุงู <b>ูุญุฑูุงูู</b> ูโูุงูุฏ.

๐ <b>ูุญูู ูพุงุณุฎโุฏู:</b>
โข ๐ข ฺฉู = ฺฉูุชุฑ ุงุฒ ด ุฑูุฒ ุฏุฑ ูุงู
โข ๐ก ูุชูุณุท = ต-ฑด ุฑูุฒ ุฏุฑ ูุงู  
โข ๐ด ุฒุงุฏ = ุจุด ุงุฒ ฑต ุฑูุฒ ุฏุฑ ูุงู

<b>ูุทูุงู ุจู ุงููู ุณูุงู ูพุงุณุฎ ุฏูุฏ:</b>""",
        
        "ุงุถุทุฑุงุจ": """๐ฅ <b>ุชุณุช ุงุถุทุฑุงุจ (GAD-7) ุดุฑูุน ุดุฏ</b>

ุงู ุชุณุช ท ุณูุงู ุฏุงุฑุฏ ู ฒ-ณ ุฏููู ุฒูุงู ูโุจุฑุฏ.
ูพุงุณุฎโูุง ุดูุง ฺฉุงููุงู <b>ูุญุฑูุงูู</b> ูโูุงูุฏ.

๐ <b>ูุญูู ูพุงุณุฎโุฏู:</b>
โข ๐ข ฺฉู = ฺฉูุชุฑ ุงุฒ ด ุฑูุฒ ุฏุฑ ูุงู
โข ๐ก ูุชูุณุท = ต-ฑด ุฑูุฒ ุฏุฑ ูุงู
โข ๐ด ุฒุงุฏ = ุจุด ุงุฒ ฑต ุฑูุฒ ุฏุฑ ูุงู

<b>ูุทูุงู ุจู ุงููู ุณูุงู ูพุงุณุฎ ุฏูุฏ:</b>"""
    }
    
    start_msg = start_msgs.get(test_type, "ุชุณุช ุดุฑูุน ุดุฏ")
    
    questions = {
        "ุงูุณุฑุฏฺฏ": [
            "ฑ. ฺฉู ุดุฏู ุงุดุชูุง",
            "ฒ. ุงุญุณุงุณ ุบู ู ูุงุงูุฏ",
            "ณ. ูุดฺฉู ุฏุฑ ุฎูุงุจุฏู", 
            "ด. ุงุญุณุงุณ ุฎุณุชฺฏ",
            "ต. ฺฉู ุดุฏู ุนูุงูู ุจู ูุนุงูุชโูุง",
            "ถ. ุงุญุณุงุณ ุดฺฉุณุช ุฏุฑ ุฒูุฏฺฏ",
            "ท. ูุดฺฉู ุฏุฑ ุชูุฑฺฉุฒ",
            "ธ. ฺฉูุฏ ุง ุจโูุฑุงุฑ ุฏุฑ ุญุฑฺฉุช",
            "น. ูฺฉุฑ ฺฉุฑุฏู ุจู ุฎูุฏฺฉุด"
        ],
        "ุงุถุทุฑุงุจ": [
            "ฑ. ุงุญุณุงุณ ุนุตุจ ุจูุฏู",
            "ฒ. ูุงุชูุงู ุฏุฑ ุชููู ูฺฏุฑุงู", 
            "ณ. ูฺฏุฑุงู ุจุด ุงุฒ ุญุฏ ุฏุฑุจุงุฑู ูุณุงุฆู ูุฎุชูู",
            "ด. ูุดฺฉู ุฏุฑ ุขุฑุงู ุดุฏู",
            "ต. ุจโูุฑุงุฑ ุดุฏุฏ",
            "ถ. ุฒูุฏุฑูุฌ ู ุชุญุฑฺฉโูพุฐุฑ",
            "ท. ุงุญุณุงุณ ุชุฑุณ ูุงููุฏ ุงุชูุงู ุจุฏ ุฏุฑ ุดุฑู ูููุน ุงุณุช"
        ]
    }
    
    users[chat_id] = {
        'test': test_type,
        'step': 0,
        'answers': [],
        'questions': questions[test_type]
    }
    
    # ๐ด ููุท ฺฉ ุจุงุฑ ูพุงู ุดุฑูุน ุงุฑุณุงู ฺฉูุฏ
    send_message(chat_id, start_msg, create_answer_buttons())
    send_next_question(chat_id)

def start_ocd_screening(chat_id, user_name):
    if chat_id in users:
        return
    
    print(f"๐ฃ ุดุฑูุน ุชุณุช ูุณูุงุณ ุจุฑุง {user_name}")
    
    users[chat_id] = {
        'test': 'ูุณูุงุณ',
        'step': 0,
        'answers': [],
        'questions': [
            "ฑ. ฺูุฏุฑ ููุช ุตุฑู ุงูฺฉุงุฑ ูุณูุงุณ ูโฺฉูุฏุ",
            "ฒ. ุงูฺฉุงุฑ ูุณูุงุณ ฺูุฏุฑ ุฏุฑ ุนููฺฉุฑุฏ ุดูุง ุงุฎุชูุงู ุงุฌุงุฏ ูโฺฉููุฏุ",
            "ณ. ฺูุฏุฑ ุงุฒ ุงูฺฉุงุฑ ูุณูุงุณ ูุงุฑุงุญุช ูโุดูุฏุ", 
            "ด. ฺูุฏุฑ ุฏุฑ ููุงุจู ุงูฺฉุงุฑ ูุณูุงุณ ููุงููุช ูโฺฉูุฏุ",
            "ต. ฺูุฏุฑ ุจุฑ ุงูฺฉุงุฑ ูุณูุงุณ ฺฉูุชุฑู ุฏุงุฑุฏุ",
            "ถ. ฺูุฏุฑ ููุช ุตุฑู ุฑูุชุงุฑูุง ูุณูุงุณ ูโฺฉูุฏุ",
            "ท. ุฑูุชุงุฑูุง ูุณูุงุณ ฺูุฏุฑ ุฏุฑ ุนููฺฉุฑุฏ ุดูุง ุงุฎุชูุงู ุงุฌุงุฏ ูโฺฉููุฏุ",
            "ธ. ฺูุฏุฑ ุงุฒ ุฑูุชุงุฑูุง ูุณูุงุณ ูุงุฑุงุญุช ูโุดูุฏุ",
            "น. ฺูุฏุฑ ุฏุฑ ููุงุจู ุฑูุชุงุฑูุง ูุณูุงุณ ููุงููุช ูโฺฉูุฏุ",
            "ฑฐ. ฺูุฏุฑ ุจุฑ ุฑูุชุงุฑูุง ูุณูุงุณ ฺฉูุชุฑู ุฏุงุฑุฏุ"
        ]
    }
    
    start_msg = """๐ <b>ุชุณุช ูุณูุงุณ (Y-BOCS) ุดุฑูุน ุดุฏ</b>

ุงู ุชุณุช ฑฐ ุณูุงู ุฏุงุฑุฏ ู ด-ต ุฏููู ุฒูุงู ูโุจุฑุฏ.
ูพุงุณุฎโูุง ุดูุง ฺฉุงููุงู <b>ูุญุฑูุงูู</b> ูโูุงูุฏ.

๐ <b>ูุญูู ูพุงุณุฎโุฏู:</b>
โข ๐ข ฺฉู = ุชุฃุซุฑ ฺฉู ุฏุฑ ุฒูุฏฺฏ
โข ๐ก ูุชูุณุท = ุชุฃุซุฑ ูุชูุณุท ุฏุฑ ุฒูุฏฺฏ  
โข ๐ด ุฒุงุฏ = ุชุฃุซุฑ ุฒุงุฏ ุฏุฑ ุฒูุฏฺฏ

<b>ูุทูุงู ุจู ุงููู ุณูุงู ูพุงุณุฎ ุฏูุฏ:</b>"""
    
    send_message(chat_id, start_msg, create_answer_buttons())
    send_next_question(chat_id)

def send_next_question(chat_id):
    if chat_id not in users:
        return
    
    user = users[chat_id]
    if user['step'] < len(user['questions']):
        question = user['questions'][user['step']]
        total_questions = len(user['questions'])
        text = f"<b>๐ ุณูุงู {user['step'] + 1} ุงุฒ {total_questions}</b>\n\n{question}"
        send_message(chat_id, text, create_answer_buttons())

def handle_test_answer(chat_id, answer):
    if answer == "๐ ุจุงุฒฺฏุดุช ุจู ููู":
        if chat_id in users:
            del users[chat_id]
        send_message(chat_id, "โน๏ธ ุชุณุช ูุชููู ุดุฏ", create_main_menu())
        return
    
    if chat_id not in users:
        return
    
    user = users[chat_id]
    
    if answer in ["๐ด ุฒุงุฏ", "๐ก ูุชูุณุท", "๐ข ฺฉู"]:
        # ุชุจุฏู ุจู ููุฑู
        score_map = {"๐ด ุฒุงุฏ": 2, "๐ก ูุชูุณุท": 1, "๐ข ฺฉู": 0}
        user['answers'].append(score_map[answer])
        user['step'] += 1
        
        if user['step'] < len(user['questions']):
            send_next_question(chat_id)
        else:
            show_test_results(chat_id, user)

def show_test_results(chat_id, user_data):
    total_score = sum(user_data['answers'])
    total_questions = len(user_data['questions'])
    test_type = user_data['test']
    
    # ุชุญูู ูุชุงุฌ ุจุง ุฌุฒุฆุงุช ุจุดุชุฑ
    analyses = {
        "ุงูุณุฑุฏฺฏ": {
            (0, 4): ("๐ข <b>ุณุทุญ ุทุจุน</b>", "ูุถุนุช ุฑูุงู ุดูุง ุฏุฑ ูุญุฏูุฏู ุทุจุน ุงุณุช. ุงุฏุงูู ุงู ุฑููุฏ ุนุงู!"),
            (5, 9): ("๐ก <b>ุงูุณุฑุฏฺฏ ุฎูู</b>", "ููฺฉู ุงุณุช ฺฏุงู ุงุญุณุงุณ ูุงุฑุงุญุช ฺฉูุฏ. ูุฏุฑุช ุงุณุชุฑุณ ูโุชูุงูุฏ ฺฉูฺฉ ฺฉูุฏ."),
            (10, 14): ("๐ <b>ุงูุณุฑุฏฺฏ ูุชูุณุท</b>", "ูพุดููุงุฏ ูโฺฉูู ุจุง ุฑูุงูุดูุงุณ ูุดูุฑุช ฺฉูุฏ."),
            (15, 19): ("๐ด <b>ุงูุณุฑุฏฺฏ ูุณุจุชุงู ุดุฏุฏ</b>", "ูุฑุงุฌุนู ุจู ุฑูุงูุดูุงุณ ุง ุฑูุงููพุฒุดฺฉ ุชูุตู ูโุดูุฏ."),
            (20, 27): ("๐ด <b>ุงูุณุฑุฏฺฏ ุดุฏุฏ</b>", "ูุฑุงุฌุนู ููุฑ ุจู ูุชุฎุตุต ุถุฑูุฑ ุงุณุช.")
        },
        "ุงุถุทุฑุงุจ": {
            (0, 4): ("๐ข <b>ุณุทุญ ุทุจุน</b>", "ุณุทุญ ุงุถุทุฑุงุจ ุดูุง ุทุจุน ุงุณุช. ุนุงู ุงุฏุงูู ุฏูุฏ!"),
            (5, 9): ("๐ก <b>ุงุถุทุฑุงุจ ุฎูู</b>", "ฺฏุงู ุงุณุชุฑุณ ุฏุงุฑุฏ. ุชฺฉูฺฉโูุง ุขุฑุงูุด ูโุชูุงูุฏ ููุฏ ุจุงุดุฏ."),
            (10, 14): ("๐ <b>ุงุถุทุฑุงุจ ูุชูุณุท</b>", "ูุดุงูุฑู ุจุง ุฑูุงูุดูุงุณ ูโุชูุงูุฏ ฺฉูฺฉ ฺฉููุฏู ุจุงุดุฏ."),
            (15, 21): ("๐ด <b>ุงุถุทุฑุงุจ ุดุฏุฏ</b>", "ูพุดููุงุฏ ูโฺฉูู ุจุง ุฑูุงููพุฒุดฺฉ ูุดูุฑุช ฺฉูุฏ.")
        },
        "ูุณูุงุณ": {
            (0, 7): ("๐ข <b>ุจุฏูู ูุณูุงุณ</b>", "ูุถุนุช ุดูุง ุฏุฑ ูุญุฏูุฏู ุทุจุน ุงุณุช"),
            (8, 15): ("๐ก <b>ูุณูุงุณ ุฎูู</b>", "ูพฺฏุฑ ู ูุดุงูุฑู ุชูุตู ูโุดูุฏ"),
            (16, 23): ("๐ <b>ูุณูุงุณ ูุชูุณุท</b>", "ูุดุงูุฑู ุจุง ุฑูุงูุดูุงุณ ุถุฑูุฑ ุงุณุช"),
            (24, 40): ("๐ด <b>ูุณูุงุณ ุดุฏุฏ</b>", "ูุฑุงุฌุนู ููุฑ ุจู ุฑูุงููพุฒุดฺฉ ุชูุตู ูโุดูุฏ")
        }
    }
    
    # ูพุฏุง ฺฉุฑุฏู ุฏุณุชู ููุงุณุจ
    result = "ูุถุนุช ูุงูุดุฎุต"
    recommendation = "ุจุง ูุชุฎุตุต ูุดูุฑุช ฺฉูุฏ"
    
    analysis_data = analyses.get(test_type, {})
    
    for score_range, (res, rec) in analysis_data.items():
        if score_range[0] <= total_score <= score_range[1]:
            result = res
            recommendation = rec
            break
    
    text = f"""๐ <b>ูุชุงุฌ ุชุณุช {test_type}</b>

๐ฏ <b>ุงูุชุงุฒ ุดูุง:</b> {total_score} ุงุฒ {total_questions * 2}
๐ <b>ุชุญูู ูุถุนุช:</b>
{result}

๐ก <b>ูพุดููุงุฏ ูุง:</b>
{recommendation}

โ๏ธ <b>ุชูุฌู:</b>
ุงู ูุชุงุฌ ุตุฑูุงู ุฌูุจู ุบุฑุจุงูฺฏุฑ ุฏุงุฑุฏ ู ุฌุงฺฏุฒู ุชุดุฎุต ูุชุฎุตุต ูุณุช.

๐ <b>ุจุฑุง ุฏุฑุงูุช ุจุฑูุงูู ุฏุฑูุงู ุดุฎุต:</b>
ุงุฒ ููู ุงุตู ฺฏุฒูู ยซ๐ ุฎุฏูุงุช ูฺูยป ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ."""
    
    send_message(chat_id, text, create_main_menu())
    del users[chat_id]
# ุงุฌุฑุง ุงุตู ุจุงุช
print("๐ค ุจุงุช ุจุง ุณูุงูุงุช ุงุณุชุงูุฏุงุฑุฏ ูุนุงู ุดุฏ...")
last_update_id = 0

while True:
    try:
        response = requests.get(URL + f"getUpdates?offset={last_update_id + 1}")
        data = response.json()
        
        if "result" in data:
            for update in data["result"]:
                update_id = update["update_id"]
                if update_id > last_update_id:
                    last_update_id = update_id
                    
                    if "message" in update:
                        chat_id = update["message"]["chat"]["id"]
                        user_text = update["message"]["text"]
                        user_name = update["message"]["chat"]["first_name"]
                        
                        print(f"๐ฉ {user_name}: {user_text}")
                        
                        if chat_id in users:
                            handle_test_answer(chat_id, user_text)
                        else:
                            if user_text == "/start":
                                show_welcome(chat_id, user_name)
                            
                            # ููู ุงุตู
                            elif user_text == "๐ ูพุฑููุงู ูู":
                                show_user_profile(chat_id)
                            elif user_text == "๐ ุฎุฏูุงุช ูฺู":
                                show_premium_services(chat_id)
                            elif user_text == "๐จโโ๏ธ ูุดุงูุฑู":
                                show_online_consultation(chat_id)
                            elif user_text == "๐ฐ ููุชโูุง":
                                show_pricing(chat_id)
                            elif user_text == "๐ ุชุณุช ุงูุณุฑุฏฺฏ":
                                start_test(chat_id, "ุงูุณุฑุฏฺฏ")
                            elif user_text == "๐ฅ ุชุณุช ุงุถุทุฑุงุจ":
                                start_test(chat_id, "ุงุถุทุฑุงุจ")
                            elif user_text == "๐ ุชุณุช ูุณูุงุณ":
                                start_ocd_screening(chat_id, user_name)
                            elif user_text == "โน๏ธ ุฑุงูููุง":
                                show_guide(chat_id)
                            elif user_text == "๐ ุชูุงุณ ุจุง ูุง":
                                show_contact(chat_id)
                            elif user_text == "๐ ุจุงุฒฺฏุดุช ุจู ููู":
                                show_welcome(chat_id, user_name)
                            
                            # ุฎุฏูุงุช ูฺู
                            elif user_text == "๐ ูุดุงูุฏู ูพููโูุง":
                                show_plans_with_feedback(chat_id)
                            elif user_text == "๐ ููููู ฺฏุฒุงุฑุดโูุง":
                                show_sample_reports(chat_id)
                            elif user_text == "๐ฌ ูุธุฑุงุช ฺฉุงุฑุจุฑุงู":
                                show_success_stories(chat_id)
                            elif user_text == "๐ ุชุฌุฑุจุงุช ูููู":
                                show_success_stories(chat_id)
                            
                            # ููููู ฺฏุฒุงุฑุดโูุง
                            elif user_text == "๐ ููููู ุงูุณุฑุฏฺฏ":
                                show_depression_sample(chat_id)
                            elif user_text == "๐ฅ ููููู ุงุถุทุฑุงุจ":
                                show_anxiety_sample(chat_id)
                            elif user_text == "๐ ููููู ูุณูุงุณ":
                                show_ocd_sample(chat_id)
                            elif user_text == "๐ ููููู ฺฏุฒุงุฑุด ฺฉุงูู":
                                show_depression_sample(chat_id)
                            elif user_text == "๐ฅ ูุฏู ุชุญูู ููููู":
                                send_message(chat_id, "๐ฅ ูุฏู ุขููุฒุด ุจู ุฒูุฏ ุงุถุงูู ูโุดูุฏ...", create_main_menu())
                            elif user_text == "๐ท ูุดุงูุฏู ุงุณฺฉุฑูโุดุงุช ฺฏุฒุงุฑุด":
                                send_message(chat_id, "๐ธ ูููููโูุง ูุงูุน ุจู ุฒูุฏ ุงุถุงูู ูโุดููุฏ...", create_main_menu())
                            elif user_text == "๐ ุฎุฑุฏ ูพูู ูุดุงุจู":
                                show_plans_with_feedback(chat_id)
                            elif user_text == "๐ ุจุงุฒฺฏุดุช ุจู ูููููโูุง":
                                show_sample_reports(chat_id)
                            
                            # ุจุงุฒฺฏุดุชโูุง
                            elif user_text == "๐ ุจุงุฒฺฏุดุช ุจู ููู ุงุตู":
                                show_welcome(chat_id, user_name)
                            elif user_text == "๐ ุจุงุฒฺฏุดุช":
                                show_premium_services(chat_id)
                            
                            # ูพุฑุฏุงุฎุช
                            elif user_text == "๐ฅ ุฎุฑุฏ ูพูู ูพุงู":
                                show_payment_plan(chat_id, "basic")
                            elif user_text == "๐ฅ ุฎุฑุฏ ูพูู ุงุณุชุงูุฏุงุฑุฏ":
                                show_payment_plan(chat_id, "standard")
                            elif user_text == "๐ฅ ุฎุฑุฏ ูพูู ุญุฑููโุง":
                                show_payment_plan(chat_id, "premium")
                            elif user_text == "๐ณ ูพุฑุฏุงุฎุช ุขููุงู":
                                setup_payment_gateway(chat_id, "basic", 590000, "ูพูู ูพุงู ุฑูุงูุดูุงุณ")
                            elif user_text == "๐ฆ ูพุฑุฏุงุฎุช ฺฉุงุฑุช ุจู ฺฉุงุฑุช":
                                show_card_payment(chat_id)
                            elif user_text == "๐ฌ ูุดุงูุฑู ุฑุงฺฏุงู":
                                show_contact(chat_id)
                            elif user_text == "๐ ูุดุงูุฏู ูพููโูุง":
                                show_premium_services(chat_id)
                            elif user_text == "๐ ุฏุฑุงูุช ุฑุงูููุง ูพุฑุฏุงุฎุช":
                                send_message(chat_id, "๐ ุจุฑุง ุฑุงูููุง ูพุฑุฏุงุฎุช ุจุง ูพุดุชุจุงู ุชูุงุณ ุจฺฏุฑุฏ: @RavanshenaseeHamrah", create_main_menu())
                            elif user_text == "๐ธ ุงุฑุณุงู ูุด ูุงุฑุฒ":
                                send_message(chat_id, "๐ธ ูุทูุงู ุนฺฉุณ ูุด ูุงุฑุฒ ุฑู ุงุฑุณุงู ฺฉูุฏ. ูพุดุชุจุงู ุจุง ุดูุง ุชูุงุณ ุฎูุงูุฏ ฺฏุฑูุช.", create_main_menu())
                            
                            else:
                                send_message(chat_id, "โ ุฏุณุชูุฑ ูุงูุนุชุจุฑ! ูุทูุงู ุงุฒ ููู ุงุณุชูุงุฏู ฺฉูุฏ.", create_main_menu())
        time.sleep(0.5)
        
    except Exception as e:
        print(f"โ๏ธ ุฎุทุง: {e}")

        time.sleep(3)
